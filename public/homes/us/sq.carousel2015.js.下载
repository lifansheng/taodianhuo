!function(a,b,c){var d=new c.Class(c.Widget);d.include({init:function(b){this.opt={el:null,panels:null,tabs:null,index:0,visible:1,auto:!1,interval:5e3,moveSpeed:1e3,eventType:"click",playEvent:["fadeIn","fadeOut"],currentClass:"active",btnNext:null,btnPrev:null,callback:function(){}},a.extend(this.opt,b||{}),this.tabsLen=a(this.opt.panels,this.opt.el).size(),this.btnEvt(),this.events(),a(this.opt.panels,this.opt.el).eq(0).show(),a(this.opt.tabs,this.opt.el).eq(0).addClass(this.opt.currentClass),this.opt.auto&&this.autoPlay()},isMacSafari:function(){var a=navigator.userAgent;return a.indexOf("Mac OS X")>0&&/Safari/.test(a)&&!/Chrome/.test(a)},goPlay:function(b){var c=this.opt;c.index=b,c.tabs&&a(c.tabs,c.el).removeClass(c.currentClass),c.tabs&&a(c.tabs,c.el).eq(b).addClass(c.currentClass),this.isMacSafari()&&(c.moveSpeed=300),a(c.panels,c.el)[c.playEvent[1]](c.moveSpeed,function(){a(this).removeClass(c.currentClass)}),a(c.panels,c.el).eq(b)[c.playEvent[0]](c.moveSpeed,function(){a(this).addClass(c.currentClass),"function"==typeof c.callback&&c.callback(b)})},autoPlay:function(){var a=this,b=this.opt;a.stop(),a.timerId=window.setInterval(function(){b.index=a.tabsLen-b.visible===b.index?0:b.index+1,a.goPlay(b.index)},b.interval)},stop:function(){var a=this;a.timerId&&window.clearInterval(a.timerId)},events:function(){var b=this,c=this.opt;a(c.el).on("mouseenter",function(){b.stop()}).on("mouseleave",function(){c.auto&&b.autoPlay()})},btnEvt:function(){var b=this,c=this.opt,d=a(c.btnNext,c.el),e=a(c.btnPrev,c.el),f=a(c.tabs,c.el);c.eventType2&&(c.eventType=c.eventType2),c.btnNext&&d.length&&d.on("click",function(a){a.preventDefault(),c.index=b.tabsLen-c.visible===c.index?0:c.index+1,b.goPlay(c.index)}),c.btnPrev&&e.length&&e.on("click",function(a){a.preventDefault(),c.index=0===c.index?b.tabsLen-c.visible:c.index-1,b.goPlay(c.index)}),c.tabs&&f.length&&f.on(c.eventType,function(a){a.preventDefault();var d=a.currentTarget;d.className.indexOf(c.currentClass)>-1||(f.each(function(a){return d===this?(c.index=a,!1):void 0}),"mouseenter"==a.type&&(b.delayTimer=setTimeout(function(){b.stop(),b.goPlay(c.index),clearTimeout(b.delayTimer),b.delayTimer=null},500)),"mouseleave"==a.type&&b.delayTimer&&(clearTimeout(b.delayTimer),b.delayTimer=null),"click"==a.type&&(b.stop(),b.goPlay(c.index)))})}}),c.Carousel=d}(jQuery,window,SQ);